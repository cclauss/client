

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Quick Start Amazon EC2 &mdash; cloudmesh_client 4.3.2 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="cloudmesh_client 4.3.2 documentation" href="index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> cloudmesh_client
          

          
          </a>

          
            
            
              <div class="version">
                4.3.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="prefix.html">Prefix</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
</ul>
<p class="caption"><span class="caption-text">Short Manuals</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference_card.html">Reference Card</a></li>
<li class="toctree-l1"><a class="reference internal" href="scripts.html">Example Scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="comet.html">Comet Virtual Cluster</a></li>
</ul>
<p class="caption"><span class="caption-text">User Manuals</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="setup.html">Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="commands/index.html">User Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="man/man.html">Commands</a></li>
</ul>
<p class="caption"><span class="caption-text">Teaching</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="exercises.html">Exercises</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tutorials/comet_cloudmesh.html">Comet Cloudmesh Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/comet_bigdata.html">Comet Big Data Tutorial</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Manuals</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="hacking.html">Hacking</a></li>
</ul>
<p class="caption"><span class="caption-text">Appendix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="appendix.html">Appendix</a></li>
</ul>
<p class="caption"><span class="caption-text">Future and Old</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="docker.html">Docker</a></li>
</ul>
<p class="caption"><span class="caption-text">Code</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="code/cloudmesh_client.html">cloudmesh_client package</a></li>
</ul>
<p class="caption"><span class="caption-text">Todo</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="todo.html">ToDos</a></li>
<li class="toctree-l1"><a class="reference internal" href="hackathon.html">Using python 2 and 3 for development</a></li>
<li class="toctree-l1"><a class="reference internal" href="hackathon.html#python-guidelines">Python Guidelines</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">cloudmesh_client</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Quick Start Amazon EC2</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/aws.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="quick-start-amazon-ec2">
<h1>Quick Start Amazon EC2<a class="headerlink" href="#quick-start-amazon-ec2" title="Permalink to this headline">¶</a></h1>
<p>Starting an AWS EC2 instance is easy on Cloudmesh client with a few steps. This
instruction guides you how to register AWS account on Cloudmesh client and
get access to a machine once it&#8217;s running. It may take 5 minutes.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you need to install cloudmesh client, please visit <a class="reference internal" href="quickstart.html#ref-quickstart"><span class="std std-ref">Quick
Start</span></a> guide.</p>
</div>
<p>This instruction contains:</p>
<ul class="simple">
<li>AWS Access Key &amp; Secret Key Registration</li>
<li>SSH Key Upload</li>
<li>EC2 Linux Instance Start</li>
<li>SSH Login</li>
<li>Instance Termination</li>
</ul>
<p>Other functionalities and features will be discussed in the following AWS section.</p>
<div class="section" id="aws-account-registration">
<h2>AWS Account Registration<a class="headerlink" href="#aws-account-registration" title="Permalink to this headline">¶</a></h2>
<p>AWS Access Key ID and Secret Access Key can be obtained from <a class="reference external" href="https://console.aws.amazon.com/">AWS Management
Console</a>.</p>
<ul>
<li><p class="first">Login AWS Account at <a class="reference external" href="https://aws.amazon.com">https://aws.amazon.com</a></p>
</li>
<li><p class="first">Find Security Credentials</p>
</li>
<li><p class="first">Continue to Security Credentials</p>
</li>
<li><p class="first">Choose &#8216;Access Keys (Access Key ID and Secret Access Key)&#8217;</p>
</li>
<li><p class="first">Create New Access Key</p>
</li>
<li><p class="first">20 bytes of Access Key ID is like: <code class="docutils literal"><span class="pre">AKIAIX3RE2AAAW5SP4KQ</span></code></p>
</li>
<li><p class="first">40 bytes of Secret Access Key ID is like:
<code class="docutils literal"><span class="pre">OOIaPIJbpeEadMxvD+xxx+mw0nEhr0wD6JX6Ual0</span></code></p>
</li>
<li><p class="first">Keep these two Key IDs to register on Cloudmesh client</p>
</li>
<li><p class="first">Run <code class="docutils literal"><span class="pre">cm</span></code> command to open Cloudmesh shell</p>
</li>
<li><p class="first">Run <code class="docutils literal"><span class="pre">register</span> <span class="pre">aws</span></code> to type account information</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cm</span><span class="o">&gt;</span> <span class="n">register</span> <span class="n">aws</span>

<span class="c1"># ######################################################################</span>
<span class="c1"># Register aws</span>
<span class="c1"># ######################################################################</span>
<span class="n">Enter</span> <span class="n">EC2_ACCESS_KEY</span> <span class="p">(</span><span class="n">TBD</span><span class="p">):</span>
<span class="n">Enter</span> <span class="n">EC2_SECRET_KEY</span> <span class="p">(</span><span class="n">TBD</span><span class="p">):</span>
<span class="n">Enter</span> <span class="n">keyname</span> <span class="p">(</span><span class="n">TBD</span><span class="p">):</span>
<span class="n">Enter</span> <span class="n">userid</span> <span class="p">(</span><span class="n">TBD</span><span class="p">):</span>
</pre></div>
</div>
</li>
</ul>
<p>You can update keyname and userid later, so please ignore at this time.</p>
</div>
<div class="section" id="set-default-cloud">
<h2>Set Default Cloud<a class="headerlink" href="#set-default-cloud" title="Permalink to this headline">¶</a></h2>
<p>You may want to set AWS as a default cloud before you start using Amazon
cloud. Default cloud setting allows you to run your Cloudmesh commands towards
a selected cloud, in this case AWS, without additional parameters e.g.
<code class="docutils literal"><span class="pre">--cloud=</span></code>.  You can change default settings anytime while you are in
Cloudmesh shell.</p>
<ul>
<li><p class="first">Run <code class="docutils literal"><span class="pre">default</span> <span class="pre">cloud=aws</span></code></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cm</span><span class="o">&gt;</span> <span class="n">default</span> <span class="n">cloud</span><span class="o">=</span><span class="n">aws</span>
<span class="nb">set</span> <span class="n">default</span> <span class="n">cloud</span><span class="o">=</span><span class="n">aws</span><span class="o">.</span> <span class="n">ok</span><span class="o">.</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="key-registration">
<h2>Key Registration<a class="headerlink" href="#key-registration" title="Permalink to this headline">¶</a></h2>
<p>To confirm that your account is registered successfully in Cloudmesh, you may
want to upload your ssh key to your Amazon EC2 account.</p>
<ul>
<li><p class="first">Check available keys in database by <code class="docutils literal"><span class="pre">key</span> <span class="pre">list</span></code></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">+-------+------------------+-------------------------------------+------------------------------------------+--------+</span>
<span class="o">|</span> <span class="n">name</span>  <span class="o">|</span> <span class="n">comment</span>          <span class="o">|</span> <span class="n">uri</span>                                 <span class="o">|</span> <span class="n">fingerprint</span>                              <span class="o">|</span> <span class="n">source</span> <span class="o">|</span>
<span class="o">+-------+------------------+-------------------------------------+------------------------------------------+--------+</span>
<span class="o">|</span> <span class="n">albert</span><span class="o">|</span> <span class="n">ubuntu</span><span class="nd">@cloudmesh</span> <span class="o">|</span> <span class="n">file</span><span class="p">:</span><span class="o">///</span><span class="n">home</span><span class="o">/</span><span class="n">ubuntu</span><span class="o">/.</span><span class="n">ssh</span><span class="o">/</span><span class="n">id_rsa</span><span class="o">.</span><span class="n">pub</span> <span class="o">|</span> <span class="n">f2</span><span class="p">:</span><span class="n">da</span><span class="p">:</span><span class="mi">38</span><span class="p">:</span><span class="mi">54</span><span class="p">:</span><span class="mi">3</span><span class="n">c</span><span class="p">:</span><span class="mi">84</span><span class="p">:</span><span class="n">e3</span><span class="p">:</span><span class="mi">16</span><span class="p">:</span><span class="n">e8</span><span class="p">:</span><span class="mi">75</span><span class="p">:</span><span class="mi">22</span><span class="p">:</span><span class="n">ce</span><span class="p">:</span><span class="mi">9</span><span class="n">c</span><span class="p">:</span><span class="n">f</span> <span class="o">|</span> <span class="n">ssh</span>    <span class="o">|</span>
<span class="o">|</span>       <span class="o">|</span>                  <span class="o">|</span>                                     <span class="o">|</span> <span class="n">e</span><span class="p">:</span><span class="mi">4</span><span class="n">e</span><span class="p">:</span><span class="mi">7</span><span class="n">f</span>                                  <span class="o">|</span>        <span class="o">|</span>
<span class="o">+-------+------------------+-------------------------------------+------------------------------------------+--------+</span>
</pre></div>
</div>
</li>
<li><p class="first">Run <code class="docutils literal"><span class="pre">key</span> <span class="pre">upload</span></code>, to simply register your key to AWS</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cm</span><span class="o">&gt;</span> <span class="n">key</span> <span class="n">upload</span>
<span class="n">upload</span> <span class="n">key</span> <span class="n">albert</span> <span class="o">-&gt;</span> <span class="n">aws</span>
<span class="n">Adding</span> <span class="n">key</span> <span class="n">albert</span> <span class="n">to</span> <span class="n">cloud</span> <span class="n">aws</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">Initializing</span> <span class="n">libcloud</span><span class="o">-</span><span class="n">ec2</span> <span class="k">for</span> <span class="n">aws</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">AWS</span> <span class="n">INIT</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">Uploading</span> <span class="n">the</span> <span class="n">key</span> <span class="n">to</span> <span class="n">libcloud</span><span class="o">.</span> <span class="n">ok</span><span class="o">.</span>
</pre></div>
</div>
</li>
<li><p class="first">Set your key as your default key by <code class="docutils literal"><span class="pre">default</span> <span class="pre">key=albert</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cm</span><span class="o">&gt;</span> <span class="n">default</span> <span class="n">key</span><span class="o">=</span><span class="n">albert</span>
<span class="nb">set</span> <span class="n">default</span> <span class="n">key</span><span class="o">=</span><span class="n">albert</span><span class="o">.</span> <span class="n">ok</span><span class="o">.</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">key</span> <span class="pre">list</span> <span class="pre">--cloud=aws</span></code> provides a list of registered SSH keys on your EC2
account like:</p>
</li>
</ul>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>name</td>
<td>fingerprint</td>
</tr>
<tr class="row-even"><td><p class="first">albert-desktop</p>
<p class="last">albert-laptop</p>
</td>
<td>ea:b4:3e:6f:82:11:09:f6:be:86:66:a9:30:d
1:9d:3f
43:13:e2:37:13:08:ea:37:e3:b5:19:b1:3e:2
1:14:e1</td>
</tr>
</tbody>
</table>
<div class="section" id="authentication-error">
<h3>Authentication Error<a class="headerlink" href="#authentication-error" title="Permalink to this headline">¶</a></h3>
<p>If your AWS account is invalid or registered incorrectly, you may encounter
authentication errors like:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">ERROR</span><span class="p">:</span> <span class="n">problem</span> <span class="n">uploading</span> <span class="n">key</span> <span class="n">albert</span> <span class="n">to</span> <span class="n">cloud</span> <span class="n">aws</span><span class="p">:</span>
<span class="n">SignatureDoesNotMatch</span><span class="p">:</span> <span class="n">The</span> <span class="n">request</span> <span class="n">signature</span> <span class="n">we</span> <span class="n">calculated</span> <span class="n">does</span> <span class="ow">not</span>
<span class="n">match</span> <span class="n">the</span> <span class="n">signature</span> <span class="n">you</span> <span class="n">provided</span><span class="o">.</span> <span class="n">Check</span> <span class="n">your</span> <span class="n">AWS</span> <span class="n">Secret</span> <span class="n">Access</span> <span class="n">Key</span> <span class="ow">and</span>
<span class="n">signing</span> <span class="n">method</span><span class="o">.</span> <span class="n">Consult</span> <span class="n">the</span> <span class="n">service</span> <span class="n">documentation</span> <span class="k">for</span> <span class="n">details</span><span class="o">.</span>
</pre></div>
</div>
<p>Please make sure your Access Key ID and Secret Key ID are recorded in Cloudmesh
correctly. (Try <code class="docutils literal"><span class="pre">register</span> <span class="pre">aws</span></code> command again to confirm your input)
Also your IDs should be <strong>active</strong> on AWS Management Console.</p>
</div>
<div class="section" id="duplication-error">
<h3>Duplication Error<a class="headerlink" href="#duplication-error" title="Permalink to this headline">¶</a></h3>
<p>Unique SSH key name is required on EC2, otherwise key upload will fail with
&#8216;InvalidKeyPair.Duplicate&#8217; error like:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">ERROR</span><span class="p">:</span> <span class="n">problem</span> <span class="n">uploading</span> <span class="n">key</span> <span class="n">albert</span> <span class="n">to</span> <span class="n">cloud</span> <span class="n">aws</span><span class="p">:</span> <span class="n">InvalidKeyPair</span><span class="o">.</span><span class="n">Duplicate</span><span class="p">:</span>
<span class="n">The</span> <span class="n">keypair</span> <span class="s1">&#39;albert&#39;</span> <span class="n">already</span> <span class="n">exists</span><span class="o">.</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="starting-ec2-instance">
<h2>Starting EC2 Instance<a class="headerlink" href="#starting-ec2-instance" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal"><span class="pre">vm</span> <span class="pre">boot</span></code> starts a new EC2 instance under your account with default settings.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cm</span><span class="o">&gt;</span> <span class="n">vm</span> <span class="n">boot</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">Initializing</span> <span class="n">libcloud</span><span class="o">-</span><span class="n">ec2</span> <span class="k">for</span> <span class="n">aws</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">AWS</span> <span class="n">INIT</span>
<span class="n">Machine</span> <span class="n">TBD</span><span class="o">-</span><span class="mi">001</span> <span class="ow">is</span> <span class="n">being</span> <span class="n">booted</span> <span class="n">on</span> <span class="n">cloud</span> <span class="n">aws</span> <span class="o">...</span>
<span class="o">+-----------+---------------------+</span>
<span class="o">|</span> <span class="n">Attribute</span> <span class="o">|</span> <span class="n">Value</span>               <span class="o">|</span>
<span class="o">+-----------+---------------------+</span>
<span class="o">|</span> <span class="n">cloud</span>     <span class="o">|</span> <span class="n">aws</span>                 <span class="o">|</span>
<span class="o">|</span> <span class="n">flavor</span>    <span class="o">|</span> <span class="n">t1</span><span class="o">.</span><span class="n">micro</span>            <span class="o">|</span>
<span class="o">|</span> <span class="n">image</span>     <span class="o">|</span> <span class="n">ami</span><span class="o">-</span><span class="n">d85e75b0</span>        <span class="o">|</span>
<span class="o">|</span> <span class="n">key</span>       <span class="o">|</span> <span class="n">albert</span>              <span class="o">|</span>
<span class="o">|</span> <span class="n">meta</span>      <span class="o">|</span> <span class="o">+</span>                   <span class="o">|</span>
<span class="o">|</span>   <span class="o">-</span>       <span class="o">|</span> <span class="n">category</span><span class="p">:</span> <span class="n">aws</span>       <span class="o">|</span>
<span class="o">|</span>   <span class="o">-</span>       <span class="o">|</span> <span class="n">kind</span><span class="p">:</span> <span class="n">cloudmesh</span>     <span class="o">|</span>
<span class="o">|</span>   <span class="o">-</span>       <span class="o">|</span> <span class="n">group</span><span class="p">:</span> <span class="n">default</span>      <span class="o">|</span>
<span class="o">|</span>   <span class="o">-</span>       <span class="o">|</span> <span class="n">image</span><span class="p">:</span> <span class="n">ami</span><span class="o">-</span><span class="n">d85e75b0</span> <span class="o">|</span>
<span class="o">|</span>   <span class="o">-</span>       <span class="o">|</span> <span class="n">key</span><span class="p">:</span> <span class="n">albert</span>         <span class="o">|</span>
<span class="o">|</span>   <span class="o">-</span>       <span class="o">|</span> <span class="n">flavor</span><span class="p">:</span> <span class="n">t1</span><span class="o">.</span><span class="n">micro</span>    <span class="o">|</span>
<span class="o">|</span> <span class="n">name</span>      <span class="o">|</span> <span class="n">TBD</span><span class="o">-</span><span class="mi">001</span>             <span class="o">|</span>
<span class="o">|</span> <span class="n">nics</span>      <span class="o">|</span>                     <span class="o">|</span>
<span class="o">|</span> <span class="n">secgroup</span>  <span class="o">|</span> <span class="o">+</span>                   <span class="o">|</span>
<span class="o">|</span>   <span class="o">-</span>       <span class="o">|</span> <span class="n">TBD</span><span class="o">-</span><span class="n">default</span>         <span class="o">|</span>
<span class="o">+-----------+---------------------+</span>
<span class="o">...</span>
</pre></div>
</div>
<p>Your first VM <code class="docutils literal"><span class="pre">TBD-001</span></code> started on AWS with default settings which are t1.micro (upto 2 EC2 compute units) flavor and ami-d85e75b0 (Ubuntu 14.04.2 LTS). Your ssh key (albert) is injected in the VM.</p>
</div>
<div class="section" id="list-of-running-ec2-instances">
<h2>List of running EC2 Instances<a class="headerlink" href="#list-of-running-ec2-instances" title="Permalink to this headline">¶</a></h2>
<p>Simple <code class="docutils literal"><span class="pre">vm</span> <span class="pre">list</span></code> run provides a list of running VM instances including one
that you started above. For example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cm</span><span class="o">&gt;</span> <span class="n">vm</span> <span class="nb">list</span>
<span class="n">Listing</span> <span class="n">VMs</span> <span class="n">on</span> <span class="n">Cloud</span><span class="p">:</span> <span class="n">aws</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">Initializing</span> <span class="n">libcloud</span><span class="o">-</span><span class="n">ec2</span> <span class="k">for</span> <span class="n">aws</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">AWS</span> <span class="n">INIT</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">Initializing</span> <span class="n">libcloud</span><span class="o">-</span><span class="n">ec2</span> <span class="k">for</span> <span class="n">aws</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">AWS</span> <span class="n">INIT</span>
<span class="o">+----+------------+---------+------------+----------------+---------------+------------+-------+--------------+---------------+------+----------+---------------------+</span>
<span class="o">|</span> <span class="nb">id</span> <span class="o">|</span> <span class="n">uuid</span>       <span class="o">|</span> <span class="n">label</span>   <span class="o">|</span> <span class="n">status</span>     <span class="o">|</span> <span class="n">public_ips</span>     <span class="o">|</span> <span class="n">private_ips</span>   <span class="o">|</span> <span class="n">image_name</span> <span class="o">|</span> <span class="n">key</span>   <span class="o">|</span> <span class="n">availability</span> <span class="o">|</span> <span class="n">instance_type</span> <span class="o">|</span> <span class="n">user</span> <span class="o">|</span> <span class="n">category</span> <span class="o">|</span> <span class="n">updated_at</span>          <span class="o">|</span>
<span class="o">+----+------------+---------+------------+----------------+---------------+------------+-------+--------------+---------------+------+----------+---------------------+</span>
<span class="o">|</span>    <span class="o">|</span> <span class="n">i</span><span class="o">-</span><span class="mi">46</span><span class="n">e521d9</span> <span class="o">|</span> <span class="n">TBD</span><span class="o">-</span><span class="mi">001</span> <span class="o">|</span> <span class="n">pending</span>    <span class="o">|</span> <span class="mf">54.158</span><span class="o">.</span><span class="mf">117.249</span> <span class="o">|</span> <span class="mf">10.235</span><span class="o">.</span><span class="mf">175.78</span> <span class="o">|</span>            <span class="o">|</span> <span class="n">albert</span><span class="o">|</span> <span class="n">us</span><span class="o">-</span><span class="n">east</span><span class="o">-</span><span class="mi">1</span><span class="n">e</span>   <span class="o">|</span> <span class="n">t1</span><span class="o">.</span><span class="n">micro</span>      <span class="o">|</span> <span class="n">TBD</span>  <span class="o">|</span> <span class="n">aws</span>      <span class="o">|</span> <span class="mi">2016</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">16</span> <span class="mi">01</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">55</span> <span class="o">|</span>
<span class="o">+----+------------+---------+------------+----------------+---------------+------------+-------+--------------+---------------+------+----------+---------------------+</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">vm</span> <span class="pre">refresh</span></code> command updates status of VMs.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal"><span class="pre">InvalidCredsError</span></code> may appear if account information is invalid.
For example, <code class="docutils literal"><span class="pre">InvalidCredsError:</span> <span class="pre">'SignatureDoesNotMatch:</span> <span class="pre">The</span> <span class="pre">request</span>
<span class="pre">signature</span> <span class="pre">we</span> <span class="pre">calculated</span> <span class="pre">does</span> <span class="pre">not</span> <span class="pre">match</span> <span class="pre">the</span> <span class="pre">signature</span> <span class="pre">you</span> <span class="pre">provided.</span> <span class="pre">Check</span>
<span class="pre">your</span> <span class="pre">AWS</span> <span class="pre">Secret</span> <span class="pre">Access</span> <span class="pre">Key</span> <span class="pre">and</span> <span class="pre">signing</span> <span class="pre">method.</span> <span class="pre">Consult</span> <span class="pre">the</span> <span class="pre">service</span>
<span class="pre">documentation</span> <span class="pre">for</span> <span class="pre">details.'</span></code> To fix this, confirm that your Access Key ID
and Secret Key ID are correct on Cloudmesh <code class="docutils literal"><span class="pre">register</span> <span class="pre">aws</span></code> and your Keys
are <strong>active</strong> on AWS Management Console.</p>
</div>
</div>
<div class="section" id="ssh-to-ec2-instance">
<h2>SSH to EC2 Instance<a class="headerlink" href="#ssh-to-ec2-instance" title="Permalink to this headline">¶</a></h2>
<p>Once your EC2 Instance is up and running, you are able to get access to the
machine vis SSH.  In Cloudmesh, you run <code class="docutils literal"><span class="pre">vm</span> <span class="pre">ssh</span> <span class="pre">&lt;VM</span> <span class="pre">Name&gt;</span></code> to connect. For
example, run <code class="docutils literal"><span class="pre">vm</span> <span class="pre">ssh</span> <span class="pre">TBD-001</span> <span class="pre">--username=ubuntu</span></code> with <code class="docutils literal"><span class="pre">ubuntu</span></code> username to get into Ubuntu VM instance.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>cm&gt; vm ssh TBD-001 --username=ubuntu
login aws:ubuntu@TBD-001
+-------------+---------+
| Attribute   | Value   |
+-------------+---------+
| cloud       | aws     |
| command     |         |
| floating_ip |         |
| key         | albert  |
| name        | TBD-001 |
| username    | ubuntu  |
+-------------+---------+
INFO: Initializing libcloud-ec2 for aws
INFO: AWS INIT
Determining IP Address to use with a ping test.
Checking 54.158.117.249...
IP to be used is: 54.158.117.249
INFO: Creating and adding security group for libcloud
INFO: Initializing libcloud-ec2 for aws
INFO: AWS INIT
INFO: create_sec_group exception.InvalidGroup.Reserved: The &#39;default&#39; security group is reserved, and cannot be deleted by a user. If creating a security group, specify a different name.
INFO: Connecting to Instance at IP:54.158.117.249
Welcome to Ubuntu 14.04.2 LTS (GNU/Linux 3.13.0-48-generic x86_64)

 * Documentation:  https://help.ubuntu.com/

   System information as of Sat Jul 16 01:41:51 UTC 2016

   System load: 0.52             Memory usage: 7%   Processes:       48
   Usage of /:  9.7% of 7.75GB   Swap usage:   0%   Users logged in: 0

   Graph this data and manage this system at:
     https://landscape.canonical.com/

   Get cloud support with Ubuntu Advantage Cloud Guest:
     http://www.ubuntu.com/business/services/cloud

   0 packages can be updated.
   0 updates are security updates.

   The programs included with the Ubuntu system are free software;
   the exact distribution terms for each program are described in the
   individual files in /usr/share/doc/*/copyright.

   Ubuntu comes with ABSOLUTELY NO WARRANTY, to the extent permitted by
   applicable law.

   ubuntu@ip-10-235-175-78:~$
</pre></div>
</div>
<p>Congrats! you have launched an EC2 instance on Cloudmesh and it&#8217;s ready to use.</p>
</div>
<div class="section" id="terminating-ec2-instance">
<h2>Terminating EC2 Instance<a class="headerlink" href="#terminating-ec2-instance" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal"><span class="pre">vm</span> <span class="pre">delete</span></code> terminates EC2 Instance like:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cm</span><span class="o">&gt;</span> <span class="n">vm</span> <span class="n">delete</span> <span class="n">TBD</span><span class="o">-</span><span class="mi">001</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">Initializing</span> <span class="n">libcloud</span><span class="o">-</span><span class="n">ec2</span> <span class="k">for</span> <span class="n">aws</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">AWS</span> <span class="n">INIT</span>
<span class="s1">&#39;Delete VM for TBD-001&#39;</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">VM</span> <span class="n">delete</span> <span class="n">success</span><span class="o">.</span><span class="n">ok</span><span class="o">.</span>
<span class="n">VM</span> <span class="n">record</span> <span class="n">TBD</span><span class="o">-</span><span class="mi">001</span> <span class="ow">is</span> <span class="n">being</span> <span class="n">deleted</span> <span class="kn">from</span> <span class="nn">the</span> <span class="n">local</span> <span class="n">database</span><span class="o">...</span>
</pre></div>
</div>
<p>That&#8217;s all. Simply provide VM instance name to terminate.</p>
</div>
<div class="section" id="list-of-server-sizes-flavors">
<h2>List of Server Sizes (flavors)<a class="headerlink" href="#list-of-server-sizes-flavors" title="Permalink to this headline">¶</a></h2>
<p>The server sizes that EC2 provides can be listed by <code class="docutils literal"><span class="pre">flavor</span> <span class="pre">list</span></code>
Amazon EC2 provide more than 40 flavors like:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">..</span> <span class="n">include</span><span class="p">::</span> <span class="n">aws</span><span class="o">-</span><span class="n">flavor</span><span class="o">.</span><span class="n">rst</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">image</span> <span class="pre">list</span></code> provides 30,000+ images available on EC2 and it takes several
minutes to display.</p>
</div>
<div class="section" id="other-commands">
<h2>Other Commands<a class="headerlink" href="#other-commands" title="Permalink to this headline">¶</a></h2>
<p>For example, managing Security Groups will be discussed in the next AWS
section.</p>
</div>
<div class="section" id="notes">
<h2>Notes<a class="headerlink" href="#notes" title="Permalink to this headline">¶</a></h2>
<p>AWS EC2 is implemented with <a class="reference external" href="https://libcloud.readthedocs.io/en/latest/compute/drivers/ec2.html">Apache Libcloud</a> in
Cloudmesh.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Gregor von Laszewski.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'4.3.2',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>