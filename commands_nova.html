

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Command Ideas &mdash; cloudmesh_client 4.3.7 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="cloudmesh_client 4.3.7 documentation" href="index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> cloudmesh_client
          

          
          </a>

          
            
            
              <div class="version">
                4.3.7
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="prefix.html">Prefix</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
</ul>
<p class="caption"><span class="caption-text">Short Manuals</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference_card.html">Reference Card</a></li>
<li class="toctree-l1"><a class="reference internal" href="scripts.html">Example Scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="comet.html">Comet Virtual Cluster</a></li>
</ul>
<p class="caption"><span class="caption-text">User Manuals</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="setup.html">Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="commands/index.html">User Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="man/man.html">Commands</a></li>
</ul>
<p class="caption"><span class="caption-text">Teaching</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="exercises.html">Exercises</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tutorials/comet_cloudmesh.html">Comet Cloudmesh Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/comet_bigdata.html">Comet Big Data Tutorial</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Manuals</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="hacking.html">Hacking</a></li>
</ul>
<p class="caption"><span class="caption-text">Appendix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="appendix.html">Appendix</a></li>
</ul>
<p class="caption"><span class="caption-text">Future and Old</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="docker.html">Docker</a></li>
</ul>
<p class="caption"><span class="caption-text">Code</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="code/cloudmesh_client.html">cloudmesh_client package</a></li>
</ul>
<p class="caption"><span class="caption-text">Todo</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="todo.html">ToDos</a></li>
<li class="toctree-l1"><a class="reference internal" href="hackathon.html">Using python 2 and 3 for development</a></li>
<li class="toctree-l1"><a class="reference internal" href="hackathon.html#python-guidelines">Python Guidelines</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">cloudmesh_client</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Command Ideas</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/commands_nova.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="command-ideas">
<h1>Command Ideas<a class="headerlink" href="#command-ideas" title="Permalink to this headline">¶</a></h1>
<p>Summary of commands:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">daniel</span><span class="p">]</span> <span class="n">cm</span> <span class="n">register</span> <span class="n">india</span>
<span class="p">[</span><span class="n">daniel</span><span class="p">]</span> <span class="n">cm</span> <span class="n">register</span> <span class="n">CLOUD</span> <span class="n">CERT</span>
<span class="p">[</span><span class="n">daniel</span><span class="p">]</span> <span class="n">cm</span> <span class="n">register</span> <span class="n">CLOUD</span> <span class="n">DIR</span>
<span class="p">[</span><span class="n">daniel</span><span class="p">]</span> <span class="n">cm</span> <span class="n">test</span> <span class="n">cloud</span> <span class="n">CLOUD</span>
<span class="p">[</span><span class="n">daniel</span><span class="p">]</span> <span class="n">cm</span> <span class="n">test</span> <span class="n">ssh</span> <span class="n">HOST</span>
<span class="n">cm</span> <span class="nb">list</span> <span class="n">cloud</span> <span class="n">flavor</span>
<span class="n">cm</span> <span class="n">update</span> <span class="n">cloud</span>



<span class="n">cm</span> <span class="n">nova</span> <span class="nb">list</span> <span class="n">inactive</span>
<span class="n">cm</span> <span class="n">nova</span> <span class="nb">list</span> <span class="n">gregor</span><span class="o">*</span>
</pre></div>
</div>
<p>NOT SURE HWY WE NEED NOVA HERE</p>
<p>This section includes some new ideas from cm commands.</p>
<div class="section" id="register">
<h2>Register<a class="headerlink" href="#register" title="Permalink to this headline">¶</a></h2>
<p>Register futuresystems india cloud which includes openrc and cert:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cm</span> <span class="n">register</span> <span class="n">india</span>
</pre></div>
</div>
<p>The next command copies the CERT to the ~/.cloudmesh/clouds/CLOUD directory and
registers that cert in the coudmeh.yaml file:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cm</span> <span class="n">register</span> <span class="n">CLOUD</span> <span class="n">CERT</span>
</pre></div>
</div>
<p>Finding the CACERT can be facilitated also while  looking at the
actual values copied. If we find a file specified, in the cert
variable for that cloud, the file is also fetched. The location will
be reset to be where we copy the cert e.g. ~/.cloudmesh/clouds/CLOUD.</p>
<p>In some cases we need more than a  single file and an entire directory
needs to be copied. For this we have the command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cm</span> <span class="n">register</span> <span class="n">CLOUD</span> <span class="n">DIR</span>
</pre></div>
</div>
<p>where DIR specifies the directory that need to be fetched.</p>
</div>
<div class="section" id="test-after-registration">
<h2>Test after Registration<a class="headerlink" href="#test-after-registration" title="Permalink to this headline">¶</a></h2>
<p>To test if a cloud is properly registered and is functioning a test
can be performed:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cm</span> <span class="n">test</span> <span class="n">cloud</span> <span class="n">CLOUD</span>
</pre></div>
</div>
<p>To test the ssh connection to a machine we can use:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cm</span> <span class="n">test</span> <span class="n">ssh</span> <span class="n">HOST</span>
</pre></div>
</div>
<p>The host is specified in the .ssh/config file. The username and
hostname can be overwritten with <a class="reference external" href="mailto:user&#37;&#52;&#48;host">user<span>&#64;</span>host</a></p>
</div>
<div class="section" id="list">
<h2>List<a class="headerlink" href="#list" title="Permalink to this headline">¶</a></h2>
<p>List all virtual machines that are not active.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cm</span> <span class="nb">list</span> <span class="n">inactive</span>
</pre></div>
</div>
<p>Lists all virtual machines that starts with a specific character or
sequence of characters. After the virtual machine name, a &#8216;*&#8217; can be
used as a regular expression. The following command lists all the
Virtual machines that has gregor as their prefix.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cm</span> <span class="nb">list</span> <span class="n">gregor</span><span class="o">-*</span>
<span class="n">cm</span> <span class="nb">list</span> <span class="n">gregor</span><span class="o">-</span><span class="p">[</span><span class="mi">001</span><span class="o">-</span><span class="mi">008</span><span class="p">]</span>
<span class="n">cm</span> <span class="nb">list</span> <span class="n">gregor</span><span class="o">-</span><span class="p">[</span><span class="mi">001</span><span class="o">-</span><span class="mi">008</span><span class="p">,</span><span class="mi">010</span><span class="p">]</span>
</pre></div>
</div>
<p>The convenient specification to set multiple matches i applied
to all other commands and parameters where possible.</p>
<p>Q: is [01-02] the same as &#8220;01,02&#8221; or does it need to be
&#8220;[01-02]&#8221;. Looks like from documentation it works without []</p>
<p>We need an extensive manual on this derived from hostlist
<a class="reference external" href="https://www.nsc.liu.se/~kent/python-hostlist/">https://www.nsc.liu.se/~kent/python-hostlist/</a>
but much better. Section will be called <em>Parameter Expansion</em>.</p>
<p>Hostlist is pip installable and listed at
<a class="reference external" href="https://pypi.python.org/pypi/python-hostlist/1.14">https://pypi.python.org/pypi/python-hostlist/1.14</a></p>
<p>We may declare its own type nad use that in :type paramter: MultiStr.
This type would than internally use hostlist. The reason why we do not
want the name hostlist is that we use this not only with hosts.</p>
</div>
<div class="section" id="update">
<h2>Update<a class="headerlink" href="#update" title="Permalink to this headline">¶</a></h2>
<p>Updates information from clouds and stores them in the database:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cm</span> <span class="n">update</span> <span class="n">india</span>
</pre></div>
</div>
<p>Individual updates can be called as follows</p>
<blockquote>
<div>cm update india flavor
cm update india vm
cm update india image</div></blockquote>
<p>Combinations are possible:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cm</span> <span class="n">update</span> <span class="n">india</span><span class="p">,</span><span class="n">aws</span><span class="p">,</span><span class="n">azure</span> <span class="n">image</span><span class="p">,</span><span class="n">vm</span>
</pre></div>
</div>
</div>
<div class="section" id="delete">
<h2>Delete<a class="headerlink" href="#delete" title="Permalink to this headline">¶</a></h2>
<p>The following command deletes all machines that are not active.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cm</span> <span class="n">nova</span> <span class="n">delete</span> <span class="n">inactive</span>
</pre></div>
</div>
</div>
<div class="section" id="flavor">
<h2>Flavor<a class="headerlink" href="#flavor" title="Permalink to this headline">¶</a></h2>
<p>Changes the flavor of either one or several virtual machines so that
they will become faster. In order to run the following command, an
index must be created. Each virtual machine will have an index
associated with it so that commands can be used in several machines at
the same time. Virtual machines from the index 1 to 10 have their
flavor changeded after the command below is run (is it possible to
change the flavor on the fly?)</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cm</span> <span class="n">flavor</span><span class="o">-</span><span class="n">up</span> <span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
<p>Changes the flavor of either one or several virtual machines so that
they will become slower. The following command changes the flavor of
the virtual machines from 20 to 30 index.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cm</span> <span class="n">flavor</span><span class="o">-</span><span class="n">down</span> <span class="p">[</span><span class="mi">20</span><span class="p">:</span><span class="mi">30</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="security">
<h2>Security<a class="headerlink" href="#security" title="Permalink to this headline">¶</a></h2>
<p>The following command protects a set of virtual machine against
accidentally changes. Whenever the user wants to delete a virtual
machine, a password will be asked.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cm</span> <span class="n">lock</span> <span class="o">--</span><span class="n">vm</span><span class="o">-</span><span class="n">name</span>
</pre></div>
</div>
</div>
<div class="section" id="order">
<h2>Order<a class="headerlink" href="#order" title="Permalink to this headline">¶</a></h2>
<p>Orders the virtual machines by flavor and displays them on the screen.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cm</span> <span class="n">order</span><span class="o">-</span><span class="n">flavor</span>
</pre></div>
</div>
<p>Orders the virtual machines by status and displays them on the screen.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cm</span> <span class="n">order</span><span class="o">-</span><span class="n">status</span>
</pre></div>
</div>
</div>
<div class="section" id="boot">
<h2>Boot<a class="headerlink" href="#boot" title="Permalink to this headline">¶</a></h2>
<p>Run the following command to fix errors that occurred during the boot
process. If there is no resources available, it tries to change the
virtual machine flavor in order to boot them correctly.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cm</span> <span class="n">restart</span> <span class="nb">all</span><span class="o">-</span><span class="n">error</span>
</pre></div>
</div>
<p>Creates a new virtual machine and adds a label to it. That label can
be used to identify what type of task a virtual machine is
running. Commands such as delete and flavor-up can be applied in
certain labels.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cm</span> <span class="n">boot</span> <span class="o">--</span><span class="n">flavor</span> <span class="o">--</span><span class="n">image</span> <span class="o">--</span><span class="n">key</span><span class="o">-</span><span class="n">name</span> <span class="o">--</span><span class="n">name</span> <span class="p">[</span><span class="n">label</span><span class="p">]</span>
</pre></div>
</div>
<p>With this command, several virtual machines can be created at the same time.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cm</span> <span class="n">boot</span> <span class="o">--</span><span class="n">flavor</span> <span class="o">--</span><span class="n">image</span> <span class="o">--</span><span class="n">key</span><span class="o">-</span><span class="n">name</span> <span class="o">--</span><span class="n">name</span> <span class="p">[</span><span class="o">--</span><span class="n">quantity</span><span class="p">]</span>
</pre></div>
</div>
<p>Deletes all machines that has a specific label.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cm</span> <span class="n">delete</span> <span class="o">--</span><span class="n">label</span>
</pre></div>
</div>
</div>
<div class="section" id="more-commands">
<h2>MORE COMMANDS<a class="headerlink" href="#more-commands" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>default active ATTRIBUTE=VALUE
default list
default [&#8211;cloud=CLOUD] ATTRIBUTE=VALUE</p>
<p>pprint(arguments)
if arguments[ATTRIBUTE=VALUE]:</p>
<blockquote>
<div><p>(a, v) = split(&#8220;=&#8221;, 1)</p>
<p>if a = &#8220;activate&#8221;</p>
</div></blockquote>
</div></blockquote>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cm</span> <span class="n">default</span> <span class="o">--</span><span class="n">cloud</span><span class="o">=</span><span class="n">india</span> <span class="nb">format</span><span class="o">-</span><span class="n">table</span><span class="o">-</span><span class="n">header</span><span class="o">=</span><span class="s2">&quot;name,id&quot;</span>
<span class="n">cm</span> <span class="n">default</span> <span class="o">--</span><span class="n">cloud</span><span class="o">=</span><span class="n">india</span> <span class="nb">format</span><span class="o">-</span><span class="n">table</span><span class="o">-</span><span class="n">header</span><span class="o">=</span><span class="n">name</span><span class="p">,</span><span class="nb">id</span>
<span class="n">cm</span> <span class="n">default</span> <span class="o">--</span><span class="n">cloud</span><span class="o">=</span><span class="n">india</span> <span class="nb">format</span><span class="o">-</span><span class="n">table</span><span class="o">-</span><span class="n">order</span><span class="o">=</span><span class="s2">&quot;name,id&quot;</span>
<span class="n">cm</span> <span class="n">default</span> <span class="n">active</span> <span class="n">clouds</span><span class="o">=</span><span class="n">india</span><span class="p">,</span><span class="n">azure</span>
<span class="n">cmd</span> <span class="nb">list</span> <span class="n">clouds</span>
<span class="n">cm</span> <span class="n">default</span> <span class="n">india</span> <span class="n">image</span><span class="o">=</span><span class="n">abc</span>
<span class="n">cm</span> <span class="n">default</span> <span class="n">india</span> <span class="n">flavor</span><span class="o">=</span><span class="n">xyz</span>
</pre></div>
</div>
</div>
<div class="section" id="nova-pass-through">
<h2>Nova Pass through<a class="headerlink" href="#nova-pass-through" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cm</span> <span class="n">nova</span> <span class="o">...</span>
</pre></div>
</div>
<p>simple nova pass through command</p>
</div>
</div>


           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Gregor von Laszewski.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'4.3.7',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>